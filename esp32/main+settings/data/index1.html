<!DOCTYPE html>
<html>
<head>
    <title>Periodic Data Update</title>
</head>
<body>
    <h1>Periodic Data Update</h1>
    <button id="ledButton">___[PH]___</button>
    <div id="dataContainer">Data will appear here.</div>
    <div id="NumberContainer">Data will appear here.</div>
	<canvas id="myChart" style="width:100%;max-width:600px"></canvas>

    <script>
        document.getElementById("ledButton").addEventListener("click", function() {
            fetch("/led")
                .then(response => response.json())
                .then(data => {
                    document.getElementById("dataContainer").textContent = "Speed: " + data.ledState;
                })
                .catch(error => console.error(error));
        });
        // Function to fetch data from the server and update the HTML element
        function fetchDataAndUpdate() {
            fetch("/upd") // Replace with the actual server endpoint
                .then(response => response.json())
                .then(data => {
                    // Update the HTML element with the received data
                    document.getElementById("dataContainer").textContent = "Speed: " + data.ledState;
                    document.getElementById("NumberContainer").textContent = "Coil Temperature: " + data.TERM_TEMP_1 + "    Board Temperature: " + data.TERM_TEMP_2 ;
                })
                .catch(error => console.error(error));
        }


        // Fetch and update data initially
        fetchDataAndUpdate();

        // Periodically update data (e.g., every 05 seconds)
        setInterval(fetchDataAndUpdate, 5000); // Adjust the interval as needed (in milliseconds)
    </script>
</body>
</html>
